<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <title>Linux C语言编程基本原理与实践 | knzn.net</title><meta name="description" content="大前端知识分享网站">
    <link rel="preload" href="/vuepress-theme-knzn/assets/js/runtime~app.813766ea.js" as="script"><link rel="preload" href="/vuepress-theme-knzn/assets/css/styles.e822ef45.css" as="style"><link rel="preload" href="/vuepress-theme-knzn/assets/js/4666.93202135.js" as="script"><link rel="preload" href="/vuepress-theme-knzn/assets/js/app.4f9d344d.js" as="script"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-9f3fcaa4.1b8ca017.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-899df890.09b6ae47.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-0a92fa36.c8154151.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-7e12ee98.ea409588.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-2756a4b2.c827a271.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-4428dfb1.cdd55c69.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/5830.c7d14f1b.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-24469f5c.fed244a8.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-664c577c.4443cfa5.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1615bf52.f6a4b0a5.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1e1b0228.ff0d1544.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-4684fb5a.8fa12255.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-51279dfe.10753b06.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1596fbeb.a493a0b0.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-3641ecee.f04a9f36.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-7210f09e.4a291e07.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-49e03b1e.d403c109.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-5d2dded8.ad037719.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-84092c86.cbf0b000.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-07472075.d2d0b6ac.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-30fc8ec7.42ac014b.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-0de0fd96.39a63124.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-5f0b136e.efcc68af.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-7b104bd6.5de5dd33.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-2a736f02.93378e2e.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-48879aae.467d076e.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-4a2f069e.0fd28b7d.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1fc42db6.309a4dba.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-cecc57f4.7ec8d97c.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-556b6df8.3f7753f9.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-efe2c25a.c05f07e5.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/8079.c3bbc0d7.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-13aca52b.5f2890c7.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-39d47cec.b095f558.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-6716b9b1.a7afa784.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-bdde92d8.a85726bb.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-a0470d1c.3b3e1376.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-27af4b01.88558619.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-19883268.b6d07af2.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-3834afdd.8ce98132.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-4764e1c4.323ecaea.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-cde3a97a.66d17771.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-0a5a2de4.fd182ec9.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-4a07565a.baf81ffb.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-0694520a.9395274c.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1f11a6a2.b9de4cbc.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1de687f6.e2f1e47f.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-7674e22b.3881a6d0.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-3fe4c5db.f0977706.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-7cc9c600.db4246f5.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/5605.8e40b379.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-264a61dd.554cf62b.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-37bafd5f.a4387baa.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-8d22c02c.a1971170.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-6cf7166b.95f85595.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-107f0ee0.0986e08e.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-5dcf7aa0.28698412.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1cfef914.27126c21.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-d4b9630c.4c721cab.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-747344c8.179a589e.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-e84a6406.5a4b0ce1.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-6e5a5958.164e411a.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-0055d228.eb370598.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-0a376634.7765f8cb.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-4c6c05e0.e99c93d2.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-674fc706.921e8137.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-09203a14.f4f28e23.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-6abe350c.bc37b7e8.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-64137a1e.aa37f341.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/9330.a23ca85d.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-2dd7a0c9.dbc0e214.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/7534.7858fa5b.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-3dcc8dff.42250acb.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-bdaff392.264d8f98.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-6999f94a.06eb3a10.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-a108ccdc.689881e9.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-4b722f0b.767c2d6d.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-2d2eb624.17f2ac5f.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-598ebf6a.27894a63.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/1493.621b4732.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-361ecdc5.995029ba.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/2872.274d6544.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-55704082.491dc0c8.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-48bf88b6.21774e00.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/7517.c75a898e.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/8427.53575c78.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-fabbb680.bd7bc1cb.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/9163.9349bcf1.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-19fc749d.e1711379.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-c960de4e.e8c2aaad.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/7042.9829b4c6.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/2994.73b50e07.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-2086c098.b2f1a9fc.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-0b2fb86c.15b0a646.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-8daa1a0e.09d6f4b3.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-1152bc8b.c50629ae.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-e355b60c.06f74233.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-41507b24.5692ccfc.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-15534fdd.59203458.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/js/v-3706649a.f26a483b.js"><link rel="prefetch" href="/vuepress-theme-knzn/assets/css/6286.styles.2808748c.css">
    <link rel="stylesheet" href="/vuepress-theme-knzn/assets/css/styles.e822ef45.css">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><header class="theme-header" is-logo="true"><a href="/vuepress-theme-knzn/" class="logo-link" style=""><img src="/vuepress-theme-knzn/images/logo-light.svg" alt class="logo"><strong class="title">knzn.net</strong></a><!----><nav class="navbar"><i class="iconfont icon-menu menu-btn"></i><ul class="nav-list"><li class="nav-item"><div class="navbar-blogger"><div class="avatar"><img src="/vuepress-theme-knzn/images/avatar.jpg" alt="头像" title="头像"></div><div class="types"><a href="/vuepress-theme-knzn/categories/?category=all" class="type"><span class="text">分类</span><span class="num">82</span></a><div class="divider"></div><a href="/vuepress-theme-knzn/tags/?tag=all" class="type"><span class="text">标签</span><span class="num">89</span></a></div><div class="blogger"><div class="name">前端程序猿</div><p class="slogan" title="种一棵树最好的时间是十年前，其次是现在！">种一棵树最好的时间是十年前，其次是现在！</p></div></div></li><!--[--><li class="nav-link nav-item"><a href="/vuepress-theme-knzn/dbe1806c869181db9c55afecd31d39b9/" class="navbar-item"><!----><span class="text">主题配置</span></a></li><li class="nav-link nav-item"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">深入理解JavaScript</span></a></li><li class="nav-link nav-item"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">TypeScript学习笔记</span></a></li><li class="nav-link nav-item"><div class="navbar-dropdown"><div class="dropdown-header"><span class="title">杂谈</span><span class="arrow"></span></div><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">linux笔记</span></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">git笔记</span></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">js笔记</span></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">mongoDB笔记</span></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">mysql笔记</span></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">python笔记</span></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress-theme-knzn/PostsLayout" class="navbar-item"><!----><span class="text">工具</span></a></li><!--]--></ul></div></li><!--]--><li class="nav-link nav-item"><button class="theme-toggle"><i class="icon-sun iconfont"></i></button></li><li class="nav-link nav-item search-link"><a href="/vuepress-theme-knzn/search/" class="navbar-item"><i class="icon-search iconfont"></i><span class="text">搜索</span></a></li><li class="nav-item nav-medias"><div class="medias"><!--[--><a class="icon-email iconfont" href="mailto:1140457303@qq.com" title="email" target="_blank"></a><a class="icon-QQ iconfont" href="http://wpa.qq.com/msgrd?v=3&amp;uin=1140457303&amp;site=qq&amp;menu=yes" title="QQ" target="_blank"></a><a class="icon-jianshu iconfont" href="https://www.jianshu.com/u/f22487800f07" title="jianshu" target="_blank"></a><a class="icon-gitee iconfont" href="https://gitee.com/zhanghuanbiao" title="gitee" target="_blank"></a><a class="icon-github iconfont" href="https://github.com/zhb333" title="github" target="_blank"></a><!--]--></div></li></ul></nav></header><!--[--><main class="theme-container theme-post-container"><aside class="post-aside"><ul class="menu-list"><!--[--><li id="Linux C语言编程基本原理与实践" class="active menu-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/" class="router-link-active router-link-exact-active navbar-item"><!----><span class="text">Linux C语言编程基本原理与实践</span></a></li><li id="Vim 的常用操作" class="menu-item"><a href="/vuepress-theme-knzn/c76ae72a3547ef41c3c04138f2149de4/" class="navbar-item"><!----><span class="text">Vim 的常用操作</span></a></li><li id="VMware15 和 centOS7的安装及配置" class="menu-item"><a href="/vuepress-theme-knzn/a6517cb7eb8426e65ba283abc9b1819a/" class="navbar-item"><!----><span class="text">VMware15 和 centOS7的安装及配置</span></a></li><!--]--></ul></aside><div class="theme-content post-container"><div class="post-wrapper"><i class="iconfont icon-book toc-btn"></i><i class="iconfont icon-menu aside-btn"></i><div class="markdown-body"><h1 class="post-title"><span>Linux C语言编程基本原理与实践</span></h1><div class="post-info"><span class="post-info-item"><i class="iconfont icon-avatar" title="作者"></i> 张焕标</span><span class="post-info-item"><i class="iconfont icon-datetime" title="日期"></i> 2019-02-01T17:30:20.000Z</span><span class="post-info-item"><i class="iconfont icon-categorynormal" title="分类"></i><!--[--><a href="/vuepress-theme-knzn/categories/?category=backEnd" class="post-type">backEnd</a><!--]--></span><span class="post-info-item"><i class="iconfont icon-tag" title="标签"></i><!--[--><a href="/vuepress-theme-knzn/tags/?tag=C+linux" class="post-type">C linux</a><!--]--></span></div><div><h2 id="一、c-语言是什么" tabindex="-1"><a class="header-anchor" href="#一、c-语言是什么" aria-hidden="true">#</a> 一、C 语言是什么？</h2><p>C 语言是一个有结构化程序设计、具有变量作用域以及递归功能的过程式语言。广泛用于系统软件与应用软件的开发。</p><p>C 语言，通俗的讲，就是人类和计算机交流的一种方式。</p><h3 id="_1-1-ansi-c" tabindex="-1"><a class="header-anchor" href="#_1-1-ansi-c" aria-hidden="true">#</a> 1.1 ANSI C</h3><p>ANSI C、ISO C、Standard C 是指美国国家标准协会（ANSI）和国际标准化组织（ISO）对 C 语言发布的标准。历史上，这个名字专门用于指代此标准的原始版本，也是支持最好的版本（称为 C89 或 C90）</p><h3 id="_1-2-c-语言的特点" tabindex="-1"><a class="header-anchor" href="#_1-2-c-语言的特点" aria-hidden="true">#</a> 1.2 C 语言的特点</h3><ul><li>简单</li><li>快速</li><li>高性能</li><li>兼容性好</li><li>功能强大</li><li>易于学习</li></ul><h3 id="_1-3-c-语言适合做什么" tabindex="-1"><a class="header-anchor" href="#_1-3-c-语言适合做什么" aria-hidden="true">#</a> 1.3 C 语言适合做什么？</h3><p>什么样的程序最有价值？ 什么样的场景最适合用 C 语言</p><ul><li>Linux 嵌入式 （小工具: ls cd 等）</li><li>和硬件打交道的程序 (操作系统 ARM 嵌入式 单片机 Arduino)</li><li>性能要求较高的应用程序 (nginx)</li></ul><h2 id="二、开发环境与配置" tabindex="-1"><a class="header-anchor" href="#二、开发环境与配置" aria-hidden="true">#</a> 二、开发环境与配置</h2><h3 id="_2-1-准备一个-linux-环境" tabindex="-1"><a class="header-anchor" href="#_2-1-准备一个-linux-环境" aria-hidden="true">#</a> 2.1 准备一个 linux 环境</h3><ul><li>虚拟机安装</li><li>云服务器</li></ul><h3 id="_2-2-编辑器" tabindex="-1"><a class="header-anchor" href="#_2-2-编辑器" aria-hidden="true">#</a> 2.2 编辑器</h3><ul><li>emacs (编辑器之神)</li><li>vim (神的编辑器)</li></ul><h3 id="_2-3-安装-vim" tabindex="-1"><a class="header-anchor" href="#_2-3-安装-vim" aria-hidden="true">#</a> 2.3 安装 vim</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token function">vim</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-4-查看-cc-编译器" tabindex="-1"><a class="header-anchor" href="#_2-4-查看-cc-编译器" aria-hidden="true">#</a> 2.4 查看 cc 编译器</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>cc -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>显示当前的 cc 编译器是 gcc 版本，gcc 是兼容 cc 的编译器</p><p><code>gcc version 4.8.5 20150623 (Red Hat 4.8.5-39) (GCC)</code></p><p>也可以使用这条命令查看</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>gcc -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="三、linux-下的第一个c程序" tabindex="-1"><a class="header-anchor" href="#三、linux-下的第一个c程序" aria-hidden="true">#</a> 三、Linux 下的第一个C程序</h2><h3 id="_3-1-创建工程目录以及编辑-c-程序文件" tabindex="-1"><a class="header-anchor" href="#_3-1-创建工程目录以及编辑-c-程序文件" aria-hidden="true">#</a> 3.1 创建工程目录以及编辑 C 程序文件</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> less1
<span class="token builtin class-name">cd</span> less1
<span class="token function">vim</span> a.c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-hello-world" tabindex="-1"><a class="header-anchor" href="#_3-2-hello-world" aria-hidden="true">#</a> 3.2 hello world</h3><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span> <span class="token comment">// 导入标准的输入输出流 头文件</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello world\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存并退出</p><h3 id="_3-3-编译-c-程序" tabindex="-1"><a class="header-anchor" href="#_3-3-编译-c-程序" aria-hidden="true">#</a> 3.3 编译 c 程序</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>cc a.c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>会生成 a.out 的可执行文件</p><h3 id="_3-4-执行编译后的-c-程序" tabindex="-1"><a class="header-anchor" href="#_3-4-执行编译后的-c-程序" aria-hidden="true">#</a> 3.4 执行编译后的 c 程序</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>结果在命令行输出</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less1<span class="token punctuation">]</span><span class="token comment"># ./a.out</span>
hello world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、多文件操作" tabindex="-1"><a class="header-anchor" href="#四、多文件操作" aria-hidden="true">#</a> 四、多文件操作</h2><h3 id="_4-1-函数文件和入口文件分别定义" tabindex="-1"><a class="header-anchor" href="#_4-1-函数文件和入口文件分别定义" aria-hidden="true">#</a> 4.1 函数文件和入口文件分别定义</h3><ul><li>求最大值的函数文件 max.c</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>求最小值函数文件 max.c</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>入口文件 main.c</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span> <span class="token comment">// 系统库中查找</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;max.c&quot;</span> <span class="token comment">// 当前项目中查找</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;min.c&quot;</span> <span class="token comment">// 当前项目中查找</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> a  <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> maxNum <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> minNum <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;the max value is %d\n&quot;</span><span class="token punctuation">,</span> maxNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;the min value is %d\n&quot;</span><span class="token punctuation">,</span> minNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>编译并运行</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>gcc main.c -o main.out

./main.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-引用编译后的函数文件" tabindex="-1"><a class="header-anchor" href="#_4-2-引用编译后的函数文件" aria-hidden="true">#</a> 4.2 引用编译后的函数文件</h3><p>当入口文件中引入很多自定义的 C 源程序代码时，一起编译时会很慢，如果引入的是编译后的文件，编译就会很快了</p><ul><li>编译函数源程序</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>gcc -c max.c -o max.o
gcc -c min.c -o min.o
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注释入口文件中引入的 max.c min.c</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span> <span class="token comment">// 系统库中查找</span></span>
<span class="token comment">// #include &quot;max.c&quot; // 当前项目中查找</span>
<span class="token comment">// #include &quot;min.c&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用命令行编译并运行</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>gcc min.o max.o main.c -o main.out
./main.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-编写头文件" tabindex="-1"><a class="header-anchor" href="#_4-3-编写头文件" aria-hidden="true">#</a> 4.3 编写头文件</h3><p>使用编译后的文件与入口函数一起编译时，能够加快编译速度，但是却看不到编译文件中的函数的用法，因此需要编写编译文件的头文件，让别人知道该编译文件的使用方法</p><ul><li>max.c 的头文件 max.h</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>min.c 的头文件 min.h</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>在入口函数中引入头文件</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span> <span class="token comment">// 系统库中查找</span></span>
<span class="token comment">// #include &quot;max.c&quot; // 当前项目中查找</span>
<span class="token comment">// #include &quot;min.c&quot;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;max.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;min.h&quot;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、-makefile-的编写和使用" tabindex="-1"><a class="header-anchor" href="#五、-makefile-的编写和使用" aria-hidden="true">#</a> 五、 Makefile 的编写和使用</h2><p>如果我们在编译时，引入了有很多个编译文件</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>gcc min.o max.o main.c -o main.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>命令行就会变得很长很长，这种方式就不可行了，这时我们需要来编写 MakeFile</p><h3 id="_5-1-make-命令" tabindex="-1"><a class="header-anchor" href="#_5-1-make-命令" aria-hidden="true">#</a> 5.1 make 命令</h3><ul><li>make 工具可以将大型的开发项目分成若干个易于管理的模块</li><li>make 工具可以很清晰和很快捷的整理源文件</li><li>make 内部也是使用了 gcc</li></ul><p>查看 make 工具是否已经安装</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-2-编写-makefile" tabindex="-1"><a class="header-anchor" href="#_5-2-编写-makefile" aria-hidden="true">#</a> 5.2 编写 Makefile</h3><div class="language-Makefile ext-Makefile line-numbers-mode"><pre class="language-Makefile"><code># main.out 是目标文件， 依赖于 min.o max.o main.c
# 通过执行 gcc min.o max.o main.c 生成 main.out
main.out:min.o max.o main.c
        gcc min.o max.o main.c -o main.out
# 如果缺少 min.o max.o, 需要先执行下面的命令生成 min.o max.o
# 如果 min.o max.o 已经存在， 再次编译时，就不会再生成 min.o max.o 了
# 如果 min.o 或 max.o 做了修改，再次编译时，也会重新生成 min.o 或 max.o
# min.o 是目标文件，依赖 min.c
# 通过执行 gcc -c min.c 生成 min.o
min.o:min.c
        gcc -c min.c
# max.o 是目标文件，依赖 max.c
# 通过执行 gcc -c max.c 生成 max.o
max.o:max.c
        gcc -c max.c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-执行-makefile-生成目标文件" tabindex="-1"><a class="header-anchor" href="#_5-3-执行-makefile-生成目标文件" aria-hidden="true">#</a> 5.3 执行 Makefile 生成目标文件</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> Makefile

./main.out
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="六、-main-函数的详解" tabindex="-1"><a class="header-anchor" href="#六、-main-函数的详解" aria-hidden="true">#</a> 六、 main 函数的详解</h2><h3 id="_6-1-main-函数中的-return" tabindex="-1"><a class="header-anchor" href="#_6-1-main-函数中的-return" aria-hidden="true">#</a> 6.1 main 函数中的 return</h3><ul><li>在 shell 命令行中可以通过 <code>echo $?</code> 查看上一条命令的执行结果</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># ./a.out</span>
hello world
<span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出 0 表示上一条命令执行成功, 而 0 也是 main 函数里的返回结果</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out <span class="token operator">&amp;&amp;</span> <span class="token function">ls</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>上面的命令，会接着执行 ls</p><ul><li>main 函数返回 非 0 表示程序运行错误</li></ul><p>如果 main 函数的返回值不为 0， 表示程序执行失败</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argv<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argc<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello world \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编译运行后的结果：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># ./a.out</span>
hello world
<span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out <span class="token operator">&amp;&amp;</span> <span class="token function">ls</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>上面的命令，不会接着执行 ls</p><h3 id="_6-2-main-函数中的参数" tabindex="-1"><a class="header-anchor" href="#_6-2-main-函数中的参数" aria-hidden="true">#</a> 6.2 main 函数中的参数</h3><p>main 函数的完整形式</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// argv 表示命令行参数的个数</span>
<span class="token comment">// argc 表示命令行参数组成的字符串数组</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argv<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argc<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;argv is %d\n&quot;</span><span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">int</span> i<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> argv<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;argc[%d] is %s\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> argc<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编译并运行的结果：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># ./a.out -a -b</span>
argv is <span class="token number">3</span>
argc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> is ./a.out
argc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> is -a
argc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> is -b
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="七、-输入流、输出流、错误流" tabindex="-1"><a class="header-anchor" href="#七、-输入流、输出流、错误流" aria-hidden="true">#</a> 七、 输入流、输出流、错误流</h2><h3 id="_7-1-标准输入流输出流以及错误流" tabindex="-1"><a class="header-anchor" href="#_7-1-标准输入流输出流以及错误流" aria-hidden="true">#</a> 7.1 标准输入流输出流以及错误流</h3><ul><li>stdout 标准输出流</li><li>stdin 标准输入流</li><li>stderr 标准错误流</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// stdout 标准输出流</span>
  <span class="token comment">// printf(&quot;Please input a number: \n&quot;);</span>
  <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">,</span> <span class="token string">&quot;Please input a number: \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token comment">// stdin 标准输入流</span>
  <span class="token comment">// scanf(&quot;%d&quot;, &amp;a);</span>
  <span class="token function">fscanf</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">,</span> <span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// stderr 标准错误流</span>
    <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;the inputed value must be greater than 0\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2-输入流输出流以及错误流的重定向" tabindex="-1"><a class="header-anchor" href="#_7-2-输入流输出流以及错误流的重定向" aria-hidden="true">#</a> 7.2 输入流输出流以及错误流的重定向</h3><ul><li>标准输入流在 shell 中用 0 表示</li><li>标准输出流在 shell 中用 1 表示</li><li>标准错误流在 shell 中用 2 表示</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;please input value a: \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;please input value b: \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;the value of j can&#39;t equal to 0\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d/%d=%d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> i<span class="token operator">/</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>将标准输出流重定向到文件</li></ul><p>1 表示输出流，默认值，可以不写</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> stdout.txt
./a.out <span class="token operator">&gt;</span> stdout.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>编译并运行</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># ./a.out &gt; stdout.txt</span>
<span class="token number">1</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># cat stdout.txt</span>
please input value i:
please input value j:
<span class="token number">1</span>/1<span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>将标准输出流追加到文件</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out <span class="token operator"><span class="token file-descriptor important">1</span>&gt;&gt;</span> stdout.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>将标准输入流重定向到文件</li></ul><p>文件内容为 stdin.txt</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>8
4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>0 表示输入流， 默认值， 可以不写</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out <span class="token operator">&lt;</span><span class="token number">0</span> stdin.txt
./a.out <span class="token operator">&lt;</span> stdin.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>编译并运行</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># ./a.out &lt; stdin.txt</span>
please input value i:
please input value j:
<span class="token number">8</span>/4<span class="token operator">=</span><span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>将标准错误流重定向到文件 <ul><li><code>&gt;</code> 会重新写人,覆盖原有内容</li><li><code>&gt;&gt;</code> 表示追加到文件</li></ul></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&gt;</span> stderr.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>编译并运行</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># ./a.out 2&gt;&gt; stderr.txt</span>
please input value i:
<span class="token number">1</span>
please input value j:
<span class="token number">0</span>
<span class="token punctuation">[</span>root@VM_0_3_centos less2<span class="token punctuation">]</span><span class="token comment"># cat stderr.txt</span>
the value of j can&#39;t equal to <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>输入流、输出流、错误流的重定向</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>./a.out <span class="token operator"><span class="token file-descriptor important">1</span>&gt;&gt;</span> stdout.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&gt;</span> stderr.txt <span class="token operator">&lt;</span><span class="token number">0</span> stdin.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="八、-使用管道打造实用的c语言程序" tabindex="-1"><a class="header-anchor" href="#八、-使用管道打造实用的c语言程序" aria-hidden="true">#</a> 八、 使用管道打造实用的C语言程序</h2><h3 id="_8-1-什么是管道" tabindex="-1"><a class="header-anchor" href="#_8-1-什么是管道" aria-hidden="true">#</a> 8.1 什么是管道？</h3><p>将前一个命令的输出流, 作为下一个命令的输入流</p><p>查看 /etc/ 包含 ab 的文件</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> /etc/ <span class="token operator">|</span> <span class="token function">grep</span> ab
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看是否开启了 ssh 进程</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ps</span> -e <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">ssh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_8-2-使用管道计算平均值" tabindex="-1"><a class="header-anchor" href="#_8-2-使用管道计算平均值" aria-hidden="true">#</a> 8.2 使用管道计算平均值</h3><p>input.c</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> i<span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d,%d\n&quot;</span><span class="token punctuation">,</span> sum<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>avg.c</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">int</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d,%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">float</span> v <span class="token operator">=</span> s <span class="token operator">/</span> n<span class="token punctuation">;</span>
 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;avg = %f\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编译并运行</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM_0_3_centos less3<span class="token punctuation">]</span><span class="token comment"># ./input.o | ./avg.o</span>
<span class="token number">5</span>
<span class="token number">98</span>
<span class="token number">0</span>
avg <span class="token operator">=</span> <span class="token number">51.000000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><div class="theme-divider"></div><div class="giscus-comment"><!----></div></div><div class="card-box card-wrapper post-tocs"><header><h3 class="title"><i class="iconfont icon-categorynormal"></i><span> 目录 </span></h3></header><nav class="vuepress-toc"><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#一、c-语言是什么" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="一、C 语言是什么？">一、C 语言是什么？</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_1-1-ansi-c" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="1.1 ANSI C">1.1 ANSI C</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_1-2-c-语言的特点" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="1.2 C 语言的特点">1.2 C 语言的特点</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_1-3-c-语言适合做什么" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="1.3 C 语言适合做什么？">1.3 C 语言适合做什么？</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#二、开发环境与配置" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="二、开发环境与配置">二、开发环境与配置</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_2-1-准备一个-linux-环境" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="2.1 准备一个 linux 环境">2.1 准备一个 linux 环境</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_2-2-编辑器" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="2.2 编辑器">2.2 编辑器</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_2-3-安装-vim" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="2.3 安装 vim">2.3 安装 vim</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_2-4-查看-cc-编译器" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="2.4 查看 cc 编译器">2.4 查看 cc 编译器</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#三、linux-下的第一个c程序" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="三、Linux 下的第一个C程序">三、Linux 下的第一个C程序</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_3-1-创建工程目录以及编辑-c-程序文件" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="3.1 创建工程目录以及编辑 C 程序文件">3.1 创建工程目录以及编辑 C 程序文件</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_3-2-hello-world" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="3.2 hello world">3.2 hello world</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_3-3-编译-c-程序" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="3.3 编译 c 程序">3.3 编译 c 程序</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_3-4-执行编译后的-c-程序" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="3.4 执行编译后的 c 程序">3.4 执行编译后的 c 程序</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#四、多文件操作" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="四、多文件操作">四、多文件操作</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_4-1-函数文件和入口文件分别定义" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="4.1 函数文件和入口文件分别定义">4.1 函数文件和入口文件分别定义</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_4-2-引用编译后的函数文件" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="4.2 引用编译后的函数文件">4.2 引用编译后的函数文件</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_4-3-编写头文件" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="4.3 编写头文件">4.3 编写头文件</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#五、-makefile-的编写和使用" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="五、 Makefile 的编写和使用">五、 Makefile 的编写和使用</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_5-1-make-命令" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="5.1 make 命令">5.1 make 命令</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_5-2-编写-makefile" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="5.2 编写 Makefile">5.2 编写 Makefile</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_5-3-执行-makefile-生成目标文件" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="5.3 执行 Makefile 生成目标文件">5.3 执行 Makefile 生成目标文件</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#六、-main-函数的详解" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="六、 main 函数的详解">六、 main 函数的详解</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_6-1-main-函数中的-return" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="6.1 main 函数中的 return">6.1 main 函数中的 return</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_6-2-main-函数中的参数" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="6.2 main 函数中的参数">6.2 main 函数中的参数</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#七、-输入流、输出流、错误流" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="七、 输入流、输出流、错误流">七、 输入流、输出流、错误流</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_7-1-标准输入流输出流以及错误流" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="7.1 标准输入流输出流以及错误流">7.1 标准输入流输出流以及错误流</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_7-2-输入流输出流以及错误流的重定向" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="7.2 输入流输出流以及错误流的重定向">7.2 输入流输出流以及错误流的重定向</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#八、-使用管道打造实用的c语言程序" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="八、 使用管道打造实用的C语言程序">八、 使用管道打造实用的C语言程序</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_8-1-什么是管道" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="8.1 什么是管道？">8.1 什么是管道？</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/vuepress-theme-knzn/a406b61b7c03a27464e60f0b79f55157/#_8-2-使用管道计算平均值" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="8.2 使用管道计算平均值">8.2 使用管道计算平均值</a><!--[--><!--]--></li></ul><!--]--></li></ul></nav></div></div></main><footer class="theme-footer theme-common-footer"><div class="copyright"><a class="beian" href="">粤ICP备20016112号-2</a><span class="delimiter">|</span><span class="info">Copyright © 2018-2022 knzn.net</span></div></footer><div style="display:none;" class="back-to-top"><i class="iconfont icon-back-to-top"></i></div><!--]--><!--]--><!--]--></div>
    <script src="/vuepress-theme-knzn/assets/js/runtime~app.813766ea.js" defer></script><script src="/vuepress-theme-knzn/assets/js/4666.93202135.js" defer></script><script src="/vuepress-theme-knzn/assets/js/app.4f9d344d.js" defer></script>
  </body>
</html>
